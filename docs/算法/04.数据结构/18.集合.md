---
title: 集合(Map和Set)
date: 2024-01-18
tags: 
  - null
categories:  
  - 算法
  - 数据结构		
---

## Collection

首先我们看Collection继承体系，可以看到List和Set两个接口类是继承与Collection这个顶级接口之下的。

> 红色是接口，蓝色是实现类

![img](https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230919101416175.png)



### 共有方法介绍

| 方法声明                   | 功能描述                     |
| -------------------------- | ---------------------------- |
| boolean add(Object o)      | 向集合中添加一个元素         |
| boolean remove(Object o)   | 删除该集合中指定的元素       |
| boolean isEmpty()          | 判断该集合是否为空           |
| boolean contains(Object o) | 判断该集合中是否包含某个元素 |
| int size()                 | 获取该集合元素个数           |
| public Object[] toArray()  | 把集合总的元素，存储到数组中 |
| void clear()               | 删除该集合中的所有元素       |
| Iterator<E> iterator()     | 返回此集合中的元素的迭代器   |

### List

List系列是Collection中的一种，注意：

- Collection的方法都被List继承了
- List集合因为有索引，所以多了一些索引操作的方法

List是有序集合,这里的有序指的是存取顺序

- 有索引，用户可以精确控制列表中每个元素的插入位置,用户可以通过整数索引访问元素,并搜索列表中的元素
- 与Set集合不同,列表通常允许重复的元素

####  特有方法介绍

| 方法名                        | 描述                                                         |
| ----------------------------- | ------------------------------------------------------------ |
| void add(int index,E element) | **在此集合中的指定位置插入指定的元素（原来位置的自动后移，这个经常用）** |
| E remove(int index)           | 删除指定索引处的元素，返回被删除的元素                       |
| E set(int index,E element)    | 修改指定索引处的元素，返回被修改的元素                       |
| E get(int index)              | 返回指定索引处的元素                                         |

#### 补充

1.List如果初始化并且有固定值

```java
List<String> stringList = Arrays.asList("a", "b", "c");
```

### Set

## Map

Map是双列集合，双列集合就是指里面的一个元素，是两列或者说一对

- 双列集合一次需要存一对数据，分别为键和值
- **键不能重复，值可以重复**
- 键和值是一一对应的，每一个键只能找到自己对应的值
- (key,value)这个整体我们称之为**键值对**或者**键值对对象**，**在java中叫做“Entry对象”**

<img src="https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/9e258e1db83699006c9e1d3908afb528.png" alt="img" style="zoom:67%;" />

**实例化和初始化**

1.初始化并赋值，java8

```java
HashMap<String, String > myMap  = new HashMap<String, String>(){{  
      put("a","b");  
      put("b","b");       
}};  //第一层大括号，匿名内部类
//第二层大括号，匿名内部类初始化块

```

2.遍历一个String[]数组words，并且统计String出现次数

```java
 for(String s:words){
            map.put(s,map.getOrDefault(s,0)+1);//注意这种写法，经常用到
}
```

3.内部Pair节点

```java
 Class Pair{
        int index;
        double value;
        //构造函数参数列表初始化
           Pair(int index, double value) {
        this.index = index;
        this.value = value;
        }
    }   
```

>**注意java没有构造函数参数列表初始化！！！**        `Pair(int in,double va):index(index),value(va);`,
>
>老老实实赋值！构造函数

常用方法

### 方法介绍

| 方法名                              | 说明                                                 |
| ----------------------------------- | ---------------------------------------------------- |
| V put(K key,V value)                | 添加元素                                             |
| V remove(Object key)                | 根据键删除键值对元素                                 |
| void clear()                        | 移除所有的键值对元素                                 |
| boolean containsKey(Object key)     | 判断集合是否包含指定的键                             |
| boolean containsValue(Object value) | 判断集合是否包含指定的值                             |
| boolean isEmpty()                   | 判断集合是否为空                                     |
| int size()                          | 集合的长度，也就是集合中键值对的个数                 |
| Set<K>   keySet()                   | 获取所有键的集合(是Set，因为key不重复)               |
| Collection<V>   values()            | 获取所有value的集合（是Collection，因为value可重复） |

### 例子

## Collections工具类

Collections 是一个操作Set和List(Collection)  ,以及Map的集合工具类。

![img](https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/v2-f52e8432b3c0e0395045a2b6b5630019_720w.webp)

> 注意Collection和Map是两个独立的接口，但是Collections可以操作这个两个接口体系的所有实现类

### 常用方法

| 方法                                                         | 作用                                             |
| ------------------------------------------------------------ | ------------------------------------------------ |
| static <T> void  sort(List<T> list, Comparator<? super T> c) | 根据指定的比较器引起的顺序对指定的列表进行排序。 |

### 例子

1.根据指定比较器对集合中元素进行排序，比如list。

> list等集合用Collections工具类排序，数组用Arrays进行排序

这里可以看这道题[451. 根据字符出现频率排序](https://leetcode.cn/problems/sort-characters-by-frequency/)。我们用一个map存储了字符频率，然后把字符放到一个list里。然后调用工具类，重载比较器对list进行排序。**这个场景很常见**。

> 感觉也可以用内部类Node来表示(字符，频率)，然后对node列表排序，但没有这么简单。

```java
class Solution {
    public String frequencySort(String s) {
        Map<Character,Integer>map = new HashMap<>();
        int n = s.length();
        for(int i=0;i<n;i++){
            map.put(s.charAt(i),map.getOrDefault(s.charAt(i),0)+1);
        }
        List<Character>list = new ArrayList(map.keySet());
        Collections.sort(list,(a,b)->map.get(b)-map.get(a));//对list降序排列
        //这里相当于用·(a,b)->map.get(b)-map.get(a)这个lambda表达式实现这个比较器接口
        int size = list.size();
        StringBuilder str = new StringBuilder();
        for(int i=0;i<size;i++){
            for(int j=0;j<map.get(list.get(i));j++){
                str.append(list.get(i));
            }
        }
        return str.toString();

    }
}
```
