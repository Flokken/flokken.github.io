---
title: 计算机网络八股知识
date: 2024-03-04
tags: 
  - 计网
categories: 
  - 其他
  - 计算机网络
---

> 参考:https://xiaolincoding.com/network/

## TCP

### 三次握手



### 四次挥手



## IP



DNS协议

 **DNS 域名解析**，DNS 可以将域名网址自动转换为具体的 IP 地址

**ARP协议**

在传输一个 IP 数据报的时候，确定了源 IP 地址和目标 IP 地址后，就会通过主机「路由表」确定 IP 数据包下一跳。然而，网络层的下一层是数据链路层，所以我们还要知道「下一跳」的 MAC 地址。

那么ARP协议就是用来确定下一跳的MAC地址的。

具体过程：

- 主机会通过**广播发送 ARP 请求**，这个包中包含了想要知道的 MAC 地址的主机 IP 地址。
- 然后其他设备接受到ARP请求，**如果比对IP地址一样，就会吧设备的MAC地址返回**

**ICMP协议**

ICMP 全称是 **Internet Control Message Protocol**，也就是**互联网控制报文协议**。

在 `IP` 通信中如果某个 `IP` 包因为某种原因未能达到目标地址，那么这个具体的原因将**由 ICMP 负责通知**。

`ICMP` 主要的功能包括：**确认 IP 包是否成功送达目标地址、报告发送过程中 IP 包被废弃的原因和改善网络设置等。**

### Ping的工作原理

ping 是基于 `ICMP` 协议工作的，所以要明白 ping 的工作，首先我们先来熟悉 **ICMP 协议**。

主机 A 执行`ping` 主机 B 后，

ping 命令执行的时候，源主机首先会构建一个 **ICMP 回送请求消息**数据包。

ICMP 数据包内包含多个字段，最重要的是两个：

- 第一个是**类型**，对于回送请求消息而言该字段为 `8`；
- 另外一个是**序号**，主要用于区分连续 ping 的时候发出的多个数据包。

如果目标主机B收到了这个数据包，会构建一个 **ICMP 回送响应消息**数据包

- 回送响应数据包的**类型**字段为 `0`，**序号**为接收到的请求数据包中的序号，然后再发送出去给主机 A
