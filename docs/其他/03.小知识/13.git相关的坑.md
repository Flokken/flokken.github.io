---
title: git相关的坑
date: 2023-03-17 00:00:00
tags: 
  - null
categories: 
  - 其他
  - 小知识
---

# revert命令

有一天，我提交时，突然报错，就是交不上去

于是试来试去，不小心点了revert commit

然后发现多了一个revert commit，想着都undo回去

结果就寄了，**这样做会冲突**，本来提示了一下，但我没看到，直接点continue，结果文件吗没了！

## 解决办法：

1. git reflog找到commit的记录
2. git checkout commitid

![image-20230327220028502](https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230327220028502.png)

这时处于一种`detached head`状态（游离状态）

解决方案：

1. 创建临时branch temp来保存commit；
2. merge临时branch temp到target branch;
3. 删除临时branch temp。

~~~shell
#创建临时branch
git branch temp fef4501

#切换到target branch并merge临时branch
git checkout target_branch
git merge temp

#提交commit到远程repo
git push

#删除临时branch
git branch -d temp 
~~~

