---
title: java集合
date: 2023-09-15
tags: 
  - Java
categories: 
  - 后端开发
  - Java开发
  - JavaSE
---

## 简介

**什么是集合：**

提供一种存储空间可变的存储模型，存储的数据容量可以发生改变

ArrayList特点

- 长度可以变化，只能存储引用数据类型。
  - 不能存基本类型，得存他们的包装类
  - **集合可长可短，自动伸缩，初始为0**
- 泛型：用于约束集合中存储元素的数据类型，下面这个`<E>`就代表泛型

<img src="https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230915172642709.png" style="zoom:80%">

- ArrayList一定是有序的，**所以可以顺序访问(遍历)**，也可以通过索引访问
  - 但是注意不能用[i]这样访问，而是用`get(i)`方法


创建集合

~~~java
public class Test {
    public static void main(String[] args) {

        //JDK7以前写法
        //ArrayList<String> list = new ArrayList<String>();

        //这里这个<String>就代表只能存String类的集合,JDK8后可以省略后面的String，但是<>仍然要写上
        ArrayList<String> list1 = new ArrayList<>();//集合创建时0
        //打印集合打印的是其中存储的对象，而非地址

        list1.add("11111");
        list1.add("2222");
        //System.out.println(list1);直接打印集合也是[x,y,z]格式的
        System.out.print("[");
        for (int i = 0; i < list1.size(); i++) {
            if (i == list1.size() - 1) {
                System.out.print(list1.get(i));
            } else {
                System.out.print(list1.get(i) + ", ");
            }

        }
        System.out.print("]");
        System.out.println(list1.get(5));
    }
}
~~~

## 常用方法

| 方法名                                | 说明                                   |
| ------------------------------------- | -------------------------------------- |
| public boolean add(要添加的元素)      | 将指定的元素追加到此集合的末尾         |
| public boolean remove(要删除的元素)   | 删除指定元素,返回值表示是否删除成功    |
| **public E  remove(int   index)**     | 删除指定索引处的元素，返回被删除的元素 |
| public E   set(int index,E   element) | 修改指定索引处的元素，返回被修改的元素 |
| **public E   get(int   index)**       | 返回指定索引处的元素                   |
| public int   size()                   | 返回集合中的元素的个数                 |

在集合中不能存基本类型，只能存包装类，下面是其对应的包装类

| 基本类型 | 包装类    |
| -------- | --------- |
| byte     | Byte      |
| short    | Short     |
| char     | Character |
| int      | Integer   |
| long     | Long      |
| float    | Float     |
| double   | Double    |
| boolean  | Boolean   |

例子：

1  存储整数并且遍历

~~~java
import java.util.ArrayList;
import java.util.Arrays;

public class Test {
    public static void main(String[] args) {

        ArrayList<Integer> list1 = new ArrayList<>();
        list1.add(1);
        list1.add(2);
        //System.out.println(list1);
        System.out.print("[");
        for (int i = 0; i < list1.size(); i++) {
            if (i == list1.size() - 1) {
                System.out.print(list1.get(i));
            } else {
                System.out.print(list1.get(i) + ", ");
            }
        }
        System.out.print("]");
    }
}

~~~

2： 存储学生对象并且遍历

> 一个java文件开源有多个类
>
> 1、public 权限的类只能有一个（也可以一个都没有，但最多只有1个）
>
> 2、这个.java文件的文件名必须是public类的类名（一般的情况下，这里放置main方法是程序的入口。）
>
> 3、若这个文件中没有public的类，则文件名随便是一个类的名字即可
>
> 4、用javac 编译这个.java文件的时候，它会给每一个类生成一个.class文件

~~~java
public class Student {//这是数据类，注意他的修饰符是public，所以时其他的类文件

//标准javaBean，空参和全参函数，所有成员变量set和get
    private String name;
    private int age;

    public Student(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public Student() {
    }
	......//省略setter和getter
}

public class Test {
    public static void main(String[] args) {


        ArrayList<Student> list = new ArrayList<>();
        Scanner sc = new Scanner(System.in);
        int x = sc.nextInt();
        for(int i =0;i<x;i++){
            String name = sc.next();
            int age = sc.nextInt();

            Student s = new Student();
            s.setAge(age);
            s.setName(name);

            list.add(s);
        }

        for (Student stu : list) {
            System.out.println(stu);//这个会打印地址值
            System.out.println(stu.getName() + ", " + stu.getAge());//这样写才行
        }
    }
}
//
2
sss 2
ddd 3
Student@12edcd21
sss, 2
Student@1e80bfe8
ddd, 3
~~~

这里注意，对于学生对象，他也是引用类型**，我把他放到集合里时，存的时地址**，**因此这里得每次循环都创一个对象，然后加到集合里**

**如果把这个对象写在里面，那么集合里的元素都是这个对象的地址，对饮值当然也一样**

~~~java
  		Student s = new Student();//只把这个放外面其他不变
        for(int i =0;i<x;i++){
            String name = sc.next();
            int age = sc.nextInt();
            s.setAge(age);
            s.setName(name);
            list.add(s);
        }
//output
2
sss 2
ddd 4
Student@12edcd21
ddd, 4
Student@12edcd21
ddd, 4
~~~

## 经典学生管理系统

可以用来熟悉一下java怎么写程序

### 分析：

#### 初始菜单：

```java
"-------------欢迎来到黑马学生管理系统----------------"
"1：添加学生"
"2：删除学生"
"3：修改学生"
"4：查询学生"
"5：退出"
"请输入您的选择:"
```

#### 学生类：

​	属性：id、姓名、年龄、家庭住址

#### 添加功能：

​	键盘录入每一个学生信息并添加，需要满足以下要求：

* id唯一

#### 删除功能：

​	键盘录入要删除的学生id，需要满足以下要求：

* id存在删除
* id不存在，需要提示不存在，并回到初始菜单

#### 修改功能：

​	键盘录入要修改的学生id，需要满足以下要求

* id存在，继续录入其他信息
* id不存在，需要提示不存在，并回到初始菜单

#### 查询功能：

​	打印所有的学生信息，需要满足以下要求

* 如果没有学生信息，提示：当前无学生信息，请添加后再查询
* 如果有学生信息，需要按照以下格式输出。（不用过于纠结对齐的问题）

```java
id			姓名		年龄		家庭住址
heima001	张三		23		 南京
heima002	李四		24		 北京
heima003	王五		25		 广州
heima004	赵六	 	26		 深圳
```

实现代码如下：

~~~java
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Scanner;



class Student {

    //标准javaBean，空参和全参函数，所有成员变量set和get
    private String name;
    private int age;

    private String id;
    private String home;

    public Student(String name, int age, String id, String home) {
        this.name = name;
        this.age = age;
        this.id = id;
        this.home = home;
    }

    public Student() {
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public String getId() {
        return id;
    }

    public void setId(String id) {
        this.id = id;
    }

    public String getHome() {
        return home;
    }

    public void setHome(String home) {
        this.home = home;
    }
}


public class Test {
    public static void main(String[] args) {
        ArrayList<Student>list = new ArrayList<>();
        loop: while(true) {
            System.out.println("------------欢迎来到黑马学生管理系统---------------");
            System.out.println("1:添加学生");
            System.out.println("2:删除学生");
            System.out.println("3:修改学生");
            System.out.println("4:查询学生");
            System.out.println("5:退出系统");
            System.out.println("请做出您的选择： ");
            Scanner sc = new Scanner(System.in);
            String choose = sc.next();
            switch (choose){
                case "1" -> addStudent(list);
                case "2" -> deleteStudent(list);
                case "3" -> updateStudent(list);
                case "4" -> queryStudent(list);
                case "5" -> {
                    System.out.println("退出");
                    break loop;
                    //break;
                    //System.exit(0);这个语句可以直接退出。
                }
                default -> System.out.println("没有该选项");
            }
        }

    }
    public  static void addStudent(ArrayList<Student>list){
        System.out.println("添加学生,id,name,age,home");
        Scanner sc = new Scanner(System.in);
        String id =sc.next();
        while(true){
            System.out.println("请输入id");
            boolean flag = contains(list,id);
            if(flag) {
                System.out.println("该id已经存在");
            }
            else{
                break;
            }

        }
        String name = sc.next();
        int age = sc.nextInt();

        String home = sc.next();
        Student stu = new Student();
        stu.setId(id);
        stu.setName(name);;
        stu.setAge(age);
        stu.setHome(home);
        list.add(stu);
        System.out.println("添加成功");
    }
    public static void deleteStudent(ArrayList<Student>list){
        System.out.println("删除学生");
        System.out.println("请输入删除学生id");
        Scanner sc = new Scanner(System.in);
        String id = sc.next();
        int index = getIndex(list,id);
        if(index!=-1){
            list.remove(index);
            System.out.println("删除成功");
        }
        else {
            System.out.println("该学生不存在");
            return;
        }
    }
    public static void queryStudent(ArrayList<Student>list){
        System.out.println("查询学生,打印所有学生");
        if(list.size()==0){
            System.out.println("当前没有学生信息");
            return;
        }
        System.out.println("id\t\t姓名\t年龄\t家庭住址");
        Student stu = new Student();
        for (Student student : list) {
            stu = student;
            System.out.println(stu.getId() + "\t" + stu.getName() + "\t" + stu.getAge() + "\t" + stu.getHome());
        }
    }
    public static void updateStudent(ArrayList<Student>list){
        System.out.println("更新学生");
        System.out.println("请输入更改学生id");
        Scanner sc = new Scanner(System.in);
        String id = sc.next();
        int index = getIndex(list,id);
        if(index==-1){
            System.out.println("该学生不存在");
            return;
        }
        else {
            System.out.println("姓名，age，home");
            String name = sc.next();
            int age = sc.nextInt();
            String home = sc.next();
            Student stu = list.get(index);
            stu.setName(name);
            stu.setAge(age);
            stu.setHome(home);
            System.out.println("更新成功");
        }
    }
    //判断id是否存在
    public static boolean contains(ArrayList<Student>list,String id){
        for(Student stu:list){
            if(stu.getId().equals(id)){
                return true;
            }
        }
        return false;
    }

    //通过id获取索引,不存在返回-1
    public  static int getIndex(ArrayList<Student>list,String id){
        int index = -1;
        Student stu = new Student();
        for(int i=0;i<list.size();i++){
            stu=list.get(i);
            if(stu.getId().equals(id)){
                index = i;
            }
        }
        return index;
    }
}

~~~

细节

1 java循环时可以起别名的，然后可以通过利用别名和break跳出循环。利用System.exit(0)也能达到同样效果
