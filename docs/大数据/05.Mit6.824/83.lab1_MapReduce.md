---
title: lab1-Mapreduce
date: 2023-10-09
tags: 
  - null
categories: 
  - 大数据
  - Mit6.824
---

> 这里做2022版的
>
> [6.824 Lab 1: MapReduce (mit.edu)](http://nil.csail.mit.edu/6.824/2022/labs/lab-mr.html)
>
> 参考：
>
> 

**环境准备：**

Ubuntun20.04

首先我是本来就安装了一个1.14的go，但是要求是1.17，所以需要升级一下Go的版本.Go的升级需要自己先删除原来安装的版本，再重新下新的版本。[官方地址][https://golang.org/dl/]

> 参考:http://www.yinzhongnet.com/1114.html 这里不赘述怎么安装了。

## 实验导读

首先这个lab提供了一个`src/main/mrsequential.go`,实现了单机版的mapReduce计算。具体来说就是先去根据文件名获取文本，然后调用map得到key-value的中间文件，然后直接`sort`（单机直接sort），然后再进行Reduce进行合并。最后得到`Word_count`的输出如下：

![image-20231031210344689](https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20231031210344689.png)

>这里稍微回忆MapReduce的核心操作。
>
>Map：一个映射函数    Reduce：合并函数   Shuffle：搬数据

总体对我们的要求就是要实现一个分布式的mapreduce计算框架，补充完成这 `mr/coordinator.go`, `mr/worker.go`, and `mr/rpc.go`三个文件。

> 这个lab里`coordinator`也是指`master`

完成之后，通过`main/test-mr.sh`.可以进行测试，这样才算全部通过。

![image-20231031211406956](https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20231031211406956.png)

###  一些规则

这里直接照搬原文的要求：

![image-20231031211525060](https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20231031211525060.png)

### 提示

当然，作为新手，完全不会做。所以这个lab也给了一些提示

> 通用的作业提示，包括花费时间，难度，[Lab guidance][http://nil.csail.mit.edu/6.824/2022/labs/guidance.html]

我们接下来就是一步步跟着提示走的。

第一步是worker写RPC请求给master，然后master会回复一些东西。

