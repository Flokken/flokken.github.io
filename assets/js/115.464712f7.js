(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{441:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"resquest-response"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#resquest-response"}},[s._v("#")]),s._v(" Resquest & Response")]),s._v(" "),t("p",[s._v("Request是请求对象，Response是响应对象。这两个对象也是使用Servlet的参数。")]),s._v(" "),t("img",{staticStyle:{zoom:"100%"},attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412103547991.png"}}),s._v(" "),t("p",[s._v("浏览器发送resquest对象，服务器返回response对象。")]),s._v(" "),t("img",{staticStyle:{zoom:"90%"},attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412104444983.png"}}),s._v(" "),t("ul",[t("li",[s._v("request:获取请求数据\n"),t("ul",[t("li",[s._v("浏览器会发送HTTP请求到后台服务器[Tomcat]")]),s._v(" "),t("li",[s._v("HTTP的请求中会包含很多请求数据**[请求行+请求头+请求体]**")]),s._v(" "),t("li",[s._v("后台服务器[Tomcat]会对HTTP请求中的数据进行解析并把解析结果存入到一个对象中")]),s._v(" "),t("li",[t("strong",[s._v("所存入的对象即为request对象")]),s._v("，所以我们可以从request对象中获取请求的相关参数")]),s._v(" "),t("li",[s._v("获取到数据后就可以继续后续的业务，比如获取用户名和密码就可以实现登录操作的相关业务")])])]),s._v(" "),t("li",[s._v("response:设置响应数据\n"),t("ul",[t("li",[s._v("业务处理完后，后台就需要给前端返回业务处理的结果即响应数据")]),s._v(" "),t("li",[s._v("把响应数据封装到response对象中")]),s._v(" "),t("li",[s._v("后台服务器[Tomcat]会解析response对象,按照[响应行+响应头+响应体]格式拼接结果")]),s._v(" "),t("li",[s._v("浏览器最终解析结果，把内容展示在浏览器给用户浏览")])])])]),s._v(" "),t("h2",{attrs:{id:"request继承体系"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#request继承体系"}},[s._v("#")]),s._v(" Request继承体系")]),s._v(" "),t("img",{staticStyle:{zoom:"70%"},attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412104906583.png"}}),s._v(" "),t("p",[s._v("也就是说，实际编写代码时，实际上request对象是"),t("code",[s._v("RequestFacade")]),s._v("对象。")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@WebServlet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/demo2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletDemo2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServlet")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doGet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletResponse")]),s._v(" response"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doPost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletResponse")]),s._v(" response"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("启动服务器，运行访问"),t("code",[s._v("http://localhost:8080/request-demo/demo2")]),s._v(",得到运行结果:")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412105942627.png",alt:"image-20230412105942627"}})]),s._v(" "),t("h2",{attrs:{id:"request介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#request介绍"}},[s._v("#")]),s._v(" Request介绍")]),s._v(" "),t("p",[s._v("首先，HTTP请求数据总共分为三部分内容，分别是"),t("strong",[s._v("请求行、请求头、请求体")]),s._v("，对于这三部分内容的数据。")]),s._v(" "),t("h3",{attrs:{id:"请求行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#请求行"}},[s._v("#")]),s._v(" 请求行")]),s._v(" "),t("p",[s._v("请求行包含三块内容，分别是"),t("strong",[s._v("请求方式、请求资源路径、HTTP协议及版本")])]),s._v(" "),t("img",{staticStyle:{zoom:"70%"},attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412105508876.png"}}),s._v(" "),t("p",[s._v("请求行，request对象提供API获取")]),s._v(" "),t("ul",[t("li",[s._v("getMethod()获取请求方式")]),s._v(" "),t("li",[s._v("getContextPath()获取项目访问路径")]),s._v(" "),t("li",[s._v("getRequestURL()获取请求URL")]),s._v(" "),t("li",[s._v("getRequestURI()获取请求URI")]),s._v(" "),t("li",[s._v("getQueryString()获取GET请求方式的请求参数")])]),s._v(" "),t("h3",{attrs:{id:"请求体"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#请求体"}},[s._v("#")]),s._v(" 请求体")]),s._v(" "),t("p",[s._v("浏览器在发送GET请求的时候是没有请求体的，所以需要把请求方式变更为POST，假设是登录，"),t("strong",[s._v("请求体中的数据格式如下")]),s._v("：")]),s._v(" "),t("p",[t("code",[s._v("username=llll&password=123")])]),s._v(" "),t("p",[s._v("API")]),s._v(" "),t("ul",[t("li",[s._v("如果是纯文本数据:getReader()")]),s._v(" "),t("li",[s._v("如果是字节数据如文件数据:getInputStream()")])]),s._v(" "),t("h3",{attrs:{id:"请求头"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#请求头"}},[s._v("#")]),s._v(" 请求头")]),s._v(" "),t("p",[s._v("对于请求头的数据，"),t("strong",[s._v("格式为key: value如下")]),s._v(":")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412110533725.png",alt:"image-20230412110533725"}})]),s._v(" "),t("h3",{attrs:{id:"获取请求参数的通用方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取请求参数的通用方式"}},[s._v("#")]),s._v(" "),t("strong",[s._v("获取请求参数的通用方式")])]),s._v(" "),t("p",[s._v("如果是GET请求，请求参数在请求行中")]),s._v(" "),t("p",[t("code",[s._v("String getQueryString()")])]),s._v(" "),t("p",[s._v("如果是POST请求，请求参数一般在请求体中")]),s._v(" "),t("p",[t("code",[s._v("BufferedReader getReader()")])]),s._v(" "),t("p",[s._v("也就是一个方法其实就可以返回所有参数，servlet中使用map映射来实现")]),s._v(" "),t("p",[s._v("根据不同的请求方式获取请求参数，获取的内容如下:")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412111013116.png",alt:"image-20230412111013116"}})]),s._v(" "),t("p",[s._v("将其分割得到")]),s._v(" "),t("img",{staticStyle:{zoom:"70%"},attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412111030614.png"}}),s._v(" "),t("p",[s._v("最后将其存入Map集合中")]),s._v(" "),t("img",{staticStyle:{zoom:"70%"},attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412111043263.png"}}),s._v(" "),t("p",[s._v("基于上述理论，request对象为我们提供了如下方法:")]),s._v(" "),t("p",[s._v("获取所有参数Map集合")]),s._v(" "),t("p",[t("code",[s._v("Map<String,String[]> getParameterMap()")])]),s._v(" "),t("p",[s._v("根据名称获取参数值（数组）")]),s._v(" "),t("p",[t("code",[s._v("String[] getParameterValues(String name)")])]),s._v(" "),t("p",[s._v("根据名称获取参数值(单个值)")]),s._v(" "),t("p",[t("code",[s._v("String getParameter(String name)")])]),s._v(" "),t("h3",{attrs:{id:"请求参数乱码问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#请求参数乱码问题"}},[s._v("#")]),s._v(" 请求参数乱码问题")]),s._v(" "),t("p",[s._v("不管是GET还是POST请求，在发送的请求参数中如果有中文，在后台接收的时候，都会出现中文乱码的问题。")]),s._v(" "),t("p",[s._v("分析出现中文乱码的原因：")]),s._v(" "),t("ul",[t("li",[s._v("POST的请求参数是通过request的getReader()来获取流中的数据")]),s._v(" "),t("li",[s._v("TOMCAT在获取流的时候采用的编码是ISO-8859-1")]),s._v(" "),t("li",[s._v("ISO-8859-1编码是不支持中文的，所以会出现乱码")])]),s._v(" "),t("p",[s._v("解决方案：")]),s._v(" "),t("ul",[t("li",[s._v("页面设置的编码格式为UTF-8")]),s._v(" "),t("li",[s._v("把TOMCAT在获取流数据之前的编码设置为UTF-8")]),s._v(" "),t("li",[s._v('通过request.setCharacterEncoding("UTF-8")设置编码,UTF-8也可以写成小写')])]),s._v(" "),t("p",[s._v("具体来说，就是")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * 中文乱码问题解决方案\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@WebServlet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/req4"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RequestDemo4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServlet")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doGet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletResponse")]),s._v(" response"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//1. 解决乱码：POST，getReader()")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//request.setCharacterEncoding("UTF-8");//设置字符输入流的编码')]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//2. 获取username")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" username "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getParameter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"username"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"解决乱码前："')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//3. GET,获取参数的方式：getQueryString")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 乱码原因：tomcat进行URL解码，默认的字符集ISO-8859-1")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* //3.1 先对乱码数据进行编码：转为字节数组\n        byte[] bytes = username.getBytes(StandardCharsets.ISO_8859_1);\n        //3.2 字节数组解码\n        username = new String(bytes, StandardCharsets.UTF_8);*/")]),s._v("\n\n        username  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBytes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StandardCharsets")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ISO_8859_1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StandardCharsets")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UTF_8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"解决乱码后："')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doPost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletResponse")]),s._v(" response"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doGet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br")])]),t("p",[t("strong",[s._v("注意：")])]),s._v(" "),t("p",[s._v("另外需要说明一点的是==Tomcat8.0之后，已将GET请求乱码问题解决，设置默认的解码方式为UTF-8==")]),s._v(" "),t("h3",{attrs:{id:"请求转发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#请求转发"}},[s._v("#")]),s._v(" 请求转发")]),s._v(" "),t("p",[s._v("请求转发(forward):一种在服务器内部的资源跳转方式。")]),s._v(" "),t("img",{staticStyle:{zoom:"70%"},attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412112006920.png"}}),s._v(" "),t("p",[s._v("(1)浏览器发送请求给服务器，服务器中对应的资源A接收到请求")]),s._v(" "),t("p",[s._v("(2)资源A处理完请求后将请求发给资源B")]),s._v(" "),t("p",[s._v("(3)资源B处理完后将结果响应给浏览器")]),s._v(" "),t("p",[s._v("(4)请求从资源A到资源B的过程就叫"),t("strong",[s._v("请求转发")])]),s._v(" "),t("p",[t("strong",[s._v("干什么的？")])]),s._v(" "),t("p",[s._v("一次请求，可以在转发资源间使用request共享数据")]),s._v(" "),t("p",[s._v("只能转发到当前服务器的内部资源，不能从一个服务器通过转发访问另一台服务器")]),s._v(" "),t("h2",{attrs:{id:"response介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#response介绍"}},[s._v("#")]),s._v(" Response介绍")]),s._v(" "),t("p",[s._v("HTTP响应数据总共分为三部分内容，分别是"),t("strong",[s._v("响应行、响应头、响应体")]),s._v("，对于这三部分内容的数据。")]),s._v(" "),t("h3",{attrs:{id:"响应行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#响应行"}},[s._v("#")]),s._v(" 响应行")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412112340757.png",alt:"image-20230412112340757"}})]),s._v(" "),t("p",[s._v("对于响应头，比较常用的就是设置响应状态码:")]),s._v(" "),t("p",[t("code",[s._v("void setStatus(int sc);")])]),s._v(" "),t("h3",{attrs:{id:"响应头"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#响应头"}},[s._v("#")]),s._v(" 响应头")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412112426942.png",alt:"image-20230412112426942"}})]),s._v(" "),t("p",[s._v("设置响应头键值对：")]),s._v(" "),t("p",[t("code",[s._v("void setHeader(String name,String value);")])]),s._v(" "),t("h3",{attrs:{id:"响应体"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#响应体"}},[s._v("#")]),s._v(" 响应体")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412112511312.png",alt:"image-20230412112511312"}})]),s._v(" "),t("p",[s._v("对于响应体，是通过字符、字节输出流的方式往浏览器写。")]),s._v(" "),t("p",[s._v("获取字符输出流:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("PrintWriter getWriter();\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("获取字节输出流")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ServletOutputStream getOutputStream();\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"response请求重定向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#response请求重定向"}},[s._v("#")]),s._v(" Response请求重定向")]),s._v(" "),t("img",{staticStyle:{zoom:"70%"},attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230412112642907.png"}}),s._v(" "),t("p",[s._v("(1)浏览器发送请求给服务器，服务器中对应的资源A接收到请求")]),s._v(" "),t("p",[s._v("(2)资源A现在无法处理该请求，就会给浏览器响应一个302的状态码+location的一个访问资源B的路径")]),s._v(" "),t("p",[s._v("(3)浏览器接收到响应状态码为302就会重新发送请求到location对应的访问地址去访问资源B")]),s._v(" "),t("p",[s._v("(4)资源B接收到请求后进行处理并最终给浏览器响应结果，这整个过程就叫"),t("strong",[s._v("重定向")])]),s._v(" "),t("p",[s._v("重定向的实现方式")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('resp.setStatus(302);\nresp.setHeader("location","资源B的访问路径");\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);