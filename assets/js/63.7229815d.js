(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{391:function(t,a,s){"use strict";s.r(a);var e=s(4),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"revert命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#revert命令"}},[t._v("#")]),t._v(" revert命令")]),t._v(" "),a("p",[t._v("有一天，我提交时，突然报错，就是交不上去")]),t._v(" "),a("p",[t._v("于是试来试去，不小心点了revert commit")]),t._v(" "),a("p",[t._v("然后发现多了一个revert commit，想着都undo回去")]),t._v(" "),a("p",[t._v("结果就寄了，"),a("strong",[t._v("这样做会冲突")]),t._v("，本来提示了一下，但我没看到，直接点continue，结果文件吗没了！")]),t._v(" "),a("h3",{attrs:{id:"解决办法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[t._v("#")]),t._v(" 解决办法：")]),t._v(" "),a("ol",[a("li",[t._v("git reflog找到commit的记录")]),t._v(" "),a("li",[t._v("git checkout commitid")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230327220028502.png",alt:"image-20230327220028502"}})]),t._v(" "),a("p",[t._v("这时处于一种"),a("code",[t._v("detached head")]),t._v("状态（游离状态）")]),t._v(" "),a("p",[t._v("解决方案：")]),t._v(" "),a("ol",[a("li",[t._v("创建临时branch temp来保存commit；")]),t._v(" "),a("li",[t._v("merge临时branch temp到target branch;")]),t._v(" "),a("li",[t._v("删除临时branch temp。")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#创建临时branch")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch temp fef4501\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#切换到target branch并merge临时branch")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout target_branch\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge temp\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#提交commit到远程repo")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#删除临时branch")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" temp \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("h2",{attrs:{id:"删不掉仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删不掉仓库"}},[t._v("#")]),t._v(" 删不掉仓库")]),t._v(" "),a("p",[t._v("这里是做openai项目的chatgpt_web时遇到的问题")]),t._v(" "),a("p",[t._v("由于项目变更，要新建仓库，但是upstram master时，很多冲突，结果提交不了，一堆冲突。")]),t._v(" "),a("p",[t._v("直接先clone原来的项目，全删了，然后提交到空仓库，就变成空的了。")]),t._v(" "),a("p",[t._v("然后再新建项目。")]),t._v(" "),a("blockquote",[a("p",[t._v("这样还是不行，会提示历史冲突，这两个仓库历史冲突交不上去，非常麻烦")])]),t._v(" "),a("p",[a("strong",[t._v("最好的做法，直接删库，把现在的代码提交到新库即可。")])]),t._v(" "),a("blockquote",[a("p",[t._v("这样做只花了几分钟，前面搞来搞去搞了两个小时，太tm傻逼了")])]),t._v(" "),a("h2",{attrs:{id:"取消对文件追踪"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#取消对文件追踪"}},[t._v("#")]),t._v(" 取消对文件追踪")]),t._v(" "),a("p",[t._v("现在我已经把"),a("code",[t._v(".idea")]),t._v("目录上传到远程仓库，我现在才想起来把他加入"),a("code",[t._v(".gitignore")]),t._v("来。")]),t._v(" "),a("p",[t._v("首先本地取消追踪")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git rm -r --cached .idea\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("提交这个变更")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('git commit -m "Remove .idea directory"\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("推送到远程仓库master分支")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git push origin master\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);