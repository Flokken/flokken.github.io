(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{519:function(a,s,t){"use strict";t.r(s);var e=t(4),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("一些扫盲的知识：")]),a._v(" "),s("p",[a._v("JDK: Java程序设计语言，Java虚拟机，Java类库统称JDK")]),a._v(" "),s("blockquote",[s("p",[a._v("1 openJDK和OracleJDK，Amazon Corretto等有啥区别")]),a._v(" "),s("p",[a._v("​\t后面那些都是OpenJDK源码衍生出的发行版")]),a._v(" "),s("p",[a._v("​")])]),a._v(" "),s("blockquote",[s("p",[a._v("参考https://www.cnblogs.com/Ye-ye/p/12588124.htm")])]),a._v(" "),s("p",[a._v("OpenJDK：是SUN公司吧java源码开源后的,整合了相关文档环境啥的形成的一个项目。Oracle后面收购了SUN公司，Oracle JDK和Open JDK代码基本完全一致")]),a._v(" "),s("p",[a._v("HotSpot VM： Sun/OracleJDK和openJDK中默认的JDK")]),a._v(" "),s("h2",{attrs:{id:"centos7-编译jdk12"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centos7-编译jdk12"}},[a._v("#")]),a._v(" centos7  编译JDK12")]),a._v(" "),s("ol",[s("li",[a._v("在OpenJDK的官网上下载打包好的JDK12源码包")])]),a._v(" "),s("p",[s("code",[a._v("wget http://hg.openjdk.java.net/jdk/jdk12/archive/06222165c35f.tar.gz")])]),a._v(" "),s("p",[a._v("解压")]),a._v(" "),s("p",[s("code",[a._v("tar -xzvf 06222165c35f.tar.gz")])]),a._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[a._v("安装要编译的JDK的上一个版本JDK（因为编译JDK时要有一个编译期可使用的JDK，官方称作这个JDK叫Bootstrap JDK）")])]),a._v(" "),s("p",[a._v("安装上一版本JDK，这里安装JDK11")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("yum install -y java-11-openjdk-devel\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("安装"),s("strong",[a._v("GCC")]),a._v(" 版本至少"),s("strong",[a._v("4.8")]),a._v("以上， 官方推荐版本7.8 或 "),s("strong",[a._v("CLang 3.2")]),a._v(" 以上")]),a._v(" "),s("p",[a._v("3.由于centos7 默认 GCC 版本为4.8.3，这里做一下升级SCL（Software Collections）是为了给RHEL/CentOS 用户提供一种以方便、安全地安装和使用应用程序和运行时环境的多个（而且可能是更新的）版本的方式，同时避免把系统搞乱。与之相对的是第三方源，它们可能会在已安装的包之间引起冲突。")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" centos-release-scl\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" devtoolset-7\nscl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" devtoolset-7 "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("4.编译JDK，进入解压出来的源码")]),a._v(" "),s("p",[s("code",[a._v("bash configure")])]),a._v(" "),s("p",[a._v("可能会报错，然后根据提示安装依赖即可")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230713111348840.png",alt:"image-20230713111348840"}})]),a._v(" "),s("p",[a._v("反复执行"),s("code",[a._v("bash configure")]),a._v("，直到没有报错")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230713111903246.png",alt:"image-20230713111903246"}})]),a._v(" "),s("p",[a._v("5 执行"),s("code",[a._v("make image")]),a._v("，开始编译")]),a._v(" "),s("p",[a._v("上面这样是默认参数编译,也可以指定很多选项")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("--with-debug-level"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("level"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("：设置编译的级别，可选值为release、fastdebug、slowde-bug，越往后进 行的优化措施就越少，带的调试信息就越多。　还有一些虚拟机调试参数必须在特定模式下才可以使 用。默认值为release。\n　--enable-debug：等效于--with-debug-level"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("fastdebug。 \n \n　--with-native-debug-symbols"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("method"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("：确定调试符号信息的编译方式，可选值为none、internal、external、zipped。\n \n　--with-version-string"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("string"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("：设置编译JDK的版本号，譬如java-version的输出就会显示该信息。\n　　这个参数还有--with-version-"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("part"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("value"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("的形式，其中part可以是pre、opt、build、major、minor、security、patch之一，用于设置版本号的某一个部分。\n \n\n　--with-jvm-variants"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("variant"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("，"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("variant"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("：编译特定模式（Variants）的HotSpot虚拟机，可以多个模式并存，可选值为server、client、minimal、core、zero、custom。\n\n　\n　--with-jvm-features"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("feature"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("，"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("feature"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("：针对--with-jvm-variants"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("custom时的自定义虚拟机特性列表（Features），可以多个特性并存，由于可选值较多，请参见help命令输出。\n　\n　--with-target-bits"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("bits"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("：指明要编译32位还是64位的Java虚拟机，在64位机器上也可以通过交叉编译生成32位的虚拟机。\n \n\n　--with-"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("lib"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("：用于指明依赖包的具体路径，通常使用在安装了多个不同版本的BootstrapJDK和依赖包的情况。\n　　其中lib的可选值包括boot-jd、freetype、cups、x、alsa、libffi、jtreg、libjpeg、giflib、libpng、lcms、zlib。\n \n\n　--with-extra-"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("flagtype"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("flags"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("：用于设定C、C++和Java代码编译时的额外编译器参数，其中flagtype可选值为cflags、cxxflags、ldflags，分别代表C、C++和Java代码的参数。\n \n　--with-conf-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("：指定编译配置名称，OpenJDK支持使用不同的配置进行编译，默认会根据编译的操作系统、指令集架构、调试级别自动生成一个配置名称，\n　　譬如“linux-x86_64-server-release”，如果在这些信息都相同的情况下保存不同的编译参数配置，就需要使用这个参数来自定义配置名称。\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br")])]),s("p",[a._v("进入编译好的目录")]),a._v(" "),s("p",[s("code",[a._v("/jdk12-06222165c35f/build/linux-x86_64-server-release/jdk/bin")])]),a._v(" "),s("p",[a._v("执行"),s("code",[a._v("./java -version")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230713112505475.png",alt:"image-20230713112505475"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);