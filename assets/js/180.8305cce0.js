(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{508:function(a,s,t){"use strict";t.r(s);var n=t(4),e=Object(n.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),s("p",[a._v("随着智能手机的普及，人们更加习惯于通过手机来看新闻。由于生活节奏的加快，很多人只能利用碎片时间来获取信息，因此，对于移动资讯客户端的需求也越来越高。黑马头条项目正是在这样背景下开发出来。"),s("strong",[a._v("黑马头条项目采用当下火热的微服务+大数据技术架构实现")]),a._v("。本项目主要着手于"),s("strong",[a._v("获取最新最热新闻资讯")]),a._v("，通过大数据分析用户喜好"),s("strong",[a._v("精确推送咨询新闻")])]),a._v(" "),s("p",[s("strong",[a._v("项目术语")])]),a._v(" "),s("img",{staticStyle:{zoom:"70%"},attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230808094315902.png"}}),a._v(" "),s("p",[s("strong",[a._v("业务说明")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230808094428856.png",alt:"image-20230808094428856"}})]),a._v(" "),s("p",[s("strong",[a._v("技术栈")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/f3accd2ba01c41b0a9ac98370241eba3.png",alt:"img"}})]),a._v(" "),s("ul",[s("li",[a._v("Spring-Cloud-Gateway : 微服务之前架设的网关服务，实现服务注册中的API请求路由，以及控制流速控制和熔断处理都是常用的架构手段，而这些功能Gateway天然支持")]),a._v(" "),s("li",[a._v("运用Spring Boot快速开发框架，构建项目工程；并结合Spring Cloud全家桶技术，实现后端个人中心、自媒体、管理中心等微服务的注册中心和配置中心")]),a._v(" "),s("li",[a._v("运用mybatis-plus作为持久层提升开发效率")]),a._v(" "),s("li",[a._v("运用Kafka完成内部系统消息通知；与客户端系统消息通知；以及实时数据计算")]),a._v(" "),s("li",[a._v("运用Redis缓存技术，实现热数据的计算，提升系统性能指标")]),a._v(" "),s("li",[a._v("使用Mysql存储用户数据，以保证上层数据查询的高性能")]),a._v(" "),s("li",[a._v("使用Mongo存储用户热数据，以保证用户热数据高扩展和高性能指标")]),a._v(" "),s("li",[a._v("使用FastDFS作为静态资源存储器，在其上实现热静态资源缓存、淘汰等功能")]),a._v(" "),s("li",[a._v("运用Hbase技术，存储系统中的冷数据，保证系统数据的可靠性")]),a._v(" "),s("li",[a._v("运用ES搜索技术，对冷数据、文章数据建立索引，以保证冷数据、文章查询性能")]),a._v(" "),s("li",[a._v("运用AI技术，来完成系统自动化功能，以提升效率及节省成本。比如实名认证自动化")]),a._v(" "),s("li",[a._v("PMD&P3C : 静态代码扫描工具，在项目中扫描项目代码，检查异常点、优化点、代码规范等，为开发团队提供规范统一，提升项目代码质量")])]),a._v(" "),s("h2",{attrs:{id:"环境准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[a._v("#")]),a._v(" 环境准备")]),a._v(" "),s("h3",{attrs:{id:"nacos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nacos"}},[a._v("#")]),a._v(" nacos")]),a._v(" "),s("p",[a._v("docker拉取镜像")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull nacos/nacos-server:1.2.0\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("创建容器")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--env")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MODE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("standalone "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" nacosy-test "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8849")]),a._v(":8848 nacos/nacos-server:1.2.0\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ul",[s("li",[s("p",[a._v("MODE=standalone 单机版")])]),a._v(" "),s("li",[s("p",[a._v("--restart=always 开机启动")])]),a._v(" "),s("li",[s("p",[a._v("-p 8849:8848  映射端口")])]),a._v(" "),s("li",[s("p",[a._v("-d 创建一个守护式容器在后台运行")])])]),a._v(" "),s("blockquote",[s("p",[a._v("访问地址：http://10.245.142.208:8849/nacos")]),a._v(" "),s("p",[a._v("(更换服务器ip)")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230808095153116.png",alt:"image-20230808095153116"}})]),a._v(" "),s("h3",{attrs:{id:"spring项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring项目"}},[a._v("#")]),a._v(" spring项目")]),a._v(" "),s("ul",[s("li",[a._v("JDK1.8")]),a._v(" "),s("li",[a._v("maven")])]),a._v(" "),s("blockquote",[s("p",[a._v("解压提供的"),s("code",[a._v("heima-leadnews.zip")]),a._v(",注意，所有文件目录要保证没有中文和特殊符号")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230808103731182.png",alt:"image-20230808103731182"}})]),a._v(" "),s("p",[a._v("各个模块解释")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20230808103741119.png",alt:"image-20230808103741119"}})]),a._v(" "),s("h3",{attrs:{id:"测试工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#测试工具"}},[a._v("#")]),a._v(" 测试工具")]),a._v(" "),s("p",[a._v("postman，这个不多讲了")]),a._v(" "),s("p",[a._v("swagger:"),s("a",{attrs:{href:"https://swagger.io/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://swagger.io/"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("knife4j:")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("gitee地址：https://gitee.com/xiaoym/knife4j")])]),a._v(" "),s("li",[s("p",[a._v("官方文档：https://doc.xiaominfo.com/")])]),a._v(" "),s("li",[s("p",[a._v("效果演示：http://knife4j.xiaominfo.com/doc.html")])])]),a._v(" "),s("h3",{attrs:{id:"前端部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端部署"}},[a._v("#")]),a._v(" 前端部署")]),a._v(" "),s("img",{staticStyle:{zoom:"70%"},attrs:{src:"https://typora-1309665611.cos.ap-nanjing.myqcloud.com/typora/image-20210416095950485.png"}}),a._v(" "),s("p",[a._v("通过nginx来进行配置，功能如下")]),a._v(" "),s("ul",[s("li",[a._v("通过nginx的反向代理功能访问后台的网关资源")]),a._v(" "),s("li",[a._v("通过nginx的静态服务器功能访问前端静态页面")])]),a._v(" "),s("h4",{attrs:{id:"配置nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx"}},[a._v("#")]),a._v(" 配置nginx")]),a._v(" "),s("p",[a._v("①：解压资料文件夹中的压缩包nginx-1.18.0.zip")]),a._v(" "),s("p",[a._v("②：解压资料文件夹中的前端项目app-web.zip")]),a._v(" "),s("p",[a._v("③：配置nginx.conf文件")]),a._v(" "),s("p",[a._v("在nginx安装的conf目录下新建一个文件夹"),s("code",[a._v("leadnews.conf")]),a._v(",在当前文件夹中新建"),s("code",[a._v("heima-leadnews-app.conf")]),a._v("文件")]),a._v(" "),s("p",[a._v("heima-leadnews-app.conf配置如下：")]),a._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("upstream  heima"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("gateway"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    server localhost"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("51601")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\nserver "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\tlisten "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8801")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\tlocation "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\t\troot "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("D")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("workspace"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("web"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\t\tindex index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\t\n\tlocation "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("~")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\t\tproxy_pass http"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("heima"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("app"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("gateway"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("$1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\t\tproxy_set_header "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("HOST")]),a._v(" $host"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("  # 不改变源请求头的值\n\t\tproxy_pass_request_body on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("  #开启获取请求体\n\t\tproxy_pass_request_headers on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("  #开启获取请求头\n\t\tproxy_set_header "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("X")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("Real"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("IP")]),a._v(" $remote_addr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("   # 记录真实发出请求的客户端"),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("IP")]),a._v("\n\t\tproxy_set_header "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("X")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("Forwarded"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("For $proxy_add_x_forwarded_for"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("  #记录代理信息\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br")])]),s("p",[a._v("nginx.conf   把里面注释的内容和静态资源配置相关删除，引入heima-leadnews-app.conf文件加载")]),a._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("#user  nobody"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nworker_processes  "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\nevents "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    worker_connections  "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1024")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\nhttp "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    include       mime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    default_type  application"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("octet"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    sendfile        on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    keepalive_timeout  "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("65")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\t# 引入自定义配置文件\n\tinclude leadnews"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("conf"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/*.conf;\n}\n")])])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br")])]),s("p",[a._v("④ ：启动nginx")]),a._v(" "),s("p",[a._v("​    在nginx安装包中使用命令提示符打开，输入命令nginx启动项目")]),a._v(" "),s("p",[a._v("​    可查看进程，检查nginx是否启动")]),a._v(" "),s("p",[a._v("​\t重新加载配置文件："),s("code",[a._v("nginx -s reload")])]),a._v(" "),s("p",[a._v("⑤：打开前端项目进行测试  -- >  http://localhost:8801")]),a._v(" "),s("p",[a._v("​     用谷歌浏览器打开，调试移动端模式进行访问")]),a._v(" "),s("h3",{attrs:{id:"网关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网关"}},[a._v("#")]),a._v(" 网关")]),a._v(" "),s("p",[a._v("这部分放到下一章的登录里，配合登录介绍")])])}),[],!1,null,null,null);s.default=e.exports}}]);